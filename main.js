/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => OrdenarArchivosPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  metricas: []
};
var OrdenarArchivosPlugin = class extends import_obsidian.Plugin {
  async onload() {
    await this.loadSettings();
    this.app.workspace.onLayoutReady(() => {
      var _a;
      this.dv = (_a = this.app.plugins.plugins["dataview"]) == null ? void 0 : _a.api;
    });
    for (let metrica of this.settings.metricas) {
      this.agregarMetrica(metrica);
    }
    this.addSettingTab(new SampleSettingTab(this.app, this));
    this.registerInterval(window.setInterval(() => console.log("setInterval"), 5 * 60 * 1e3));
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  agregarMetrica(metrica) {
    this.addCommand({
      id: `open-reordenar-${this.tenerMetricaId(metrica)}`,
      name: `Reordenar ${metrica}`,
      callback: async () => {
        new ReordenarModal(this.app, this.dv, metrica).open();
      }
    });
  }
  eliminarMetrica(metrica) {
    this.removeCommand(`open-reordenar-${this.tenerMetricaId(metrica)}`);
  }
  tenerMetricaId(metrica) {
    metrica = metrica.trim();
    let resultado = "";
    for (let i = 0; i < metrica.length; i++) {
      resultado += metrica[i] == " " ? "-" : metrica.charAt(i);
    }
    return resultado;
  }
};
var ReordenarModal = class extends import_obsidian.Modal {
  constructor(app, dv, metrica) {
    super(app);
    this.metrica = metrica;
    this.component = new import_obsidian.Component();
    this.archivos = dv.pages().filter((archivo) => archivo[this.metrica]).sort((archivo) => archivo[this.metrica]).map((archivo) => ({
      path: archivo.file.path,
      name: archivo.file.name,
      metrica: archivo[metrica]
    }));
    this.ultima = [];
  }
  async onOpen() {
    const { contentEl } = this;
    this.component.load();
    this.setTitle(`Ahora vamos a reordenar ${this.metrica}`);
    this.modalEl.addClass("ordenar-ventana");
    let [indiceUno, indiceDos] = this.conseguirArchivos();
    let [archivoUno, archivoDos] = [indiceUno, indiceDos].map((indice) => this.archivos[indice]);
    let tArchivoUno = this.app.vault.getAbstractFileByPath(archivoUno.path);
    let tArchivoDos = this.app.vault.getAbstractFileByPath(archivoDos.path);
    let [contenidoUno, contenidoDos] = (await Promise.all([
      this.app.vault.read(tArchivoUno),
      this.app.vault.read(tArchivoDos)
    ])).map((contenido) => this.sacarFrontmatter(contenido));
    let separacion = contentEl.createDiv();
    separacion.addClass("ordenar-separacion");
    let divIzquierda = new import_obsidian.ButtonComponent(separacion).setClass("ordenar-archivo").onClick(async () => {
      let metricaMejor = archivoUno.metrica;
      let metricaPeor = archivoDos.metrica;
      if (parseInt(metricaMejor, 10) > parseInt(metricaPeor, 10)) {
        this.archivos[indiceUno]["metrica"] = metricaPeor;
        this.archivos[indiceDos]["metrica"] = metricaMejor;
      }
      await this.onClose();
      this.onOpen();
    }).buttonEl;
    let tareaIzquierda = import_obsidian.MarkdownRenderer.render(this.app, `# ${archivoUno.name}
---
${contenidoUno}`, divIzquierda.createDiv({ cls: "ordenar-archivo-contenido" }), "", this.component);
    let divDerecha = new import_obsidian.ButtonComponent(separacion).setClass("ordenar-archivo").onClick(async () => {
      let metricaMejor = archivoDos.metrica;
      let metricaPeor = archivoUno.metrica;
      if (parseInt(metricaMejor, 10) > parseInt(metricaPeor, 10)) {
        this.archivos[indiceDos]["metrica"] = metricaPeor;
        this.archivos[indiceUno]["metrica"] = metricaMejor;
      }
      await this.onClose();
      this.onOpen();
    }).buttonEl;
    let tareaDerecha = import_obsidian.MarkdownRenderer.render(this.app, `# ${archivoDos.name}
---
${contenidoDos}`, divDerecha.createDiv({ cls: "ordenar-archivo-contenido" }), "", this.component);
    await Promise.all([tareaIzquierda, tareaDerecha]);
  }
  async onClose() {
    const { contentEl } = this;
    contentEl.empty();
    this.component.unload();
    if (!this.ultima)
      return;
    let tareas = this.ultima.map((indice) => this.archivos[indice]).map(({ path, name, metrica }) => {
      let tArchivo = this.app.vault.getAbstractFileByPath(path);
      return this.app.fileManager.processFrontMatter(tArchivo, (frontmatter) => {
        frontmatter[this.metrica] = metrica;
      });
    });
    await Promise.all(tareas);
  }
  sacarFrontmatter(contenido) {
    if (contenido.slice(0, 3) != "---")
      return contenido;
    contenido = contenido.slice(3);
    let indice = contenido.indexOf("---");
    indice += contenido.slice(indice).indexOf("\n") + 1;
    return contenido.slice(indice);
  }
  conseguirArchivos() {
    let indicePrincipal, indiceSecundario;
    do {
      indicePrincipal = Math.floor(Math.random() * this.archivos.length);
      indiceSecundario = indicePrincipal == 0 ? 1 : indicePrincipal - 1;
    } while (this.ultima.length > 0 && (this.ultima[0] == indicePrincipal && this.ultima[1] == indiceSecundario || this.ultima[1] == indicePrincipal && this.ultima[0] == indiceSecundario));
    this.ultima[0] = indicePrincipal;
    this.ultima[1] = indiceSecundario;
    return this.archivos[indicePrincipal].metrica < this.archivos[indiceSecundario].metrica ? [indicePrincipal, indiceSecundario] : [indiceSecundario, indicePrincipal];
  }
};
var SampleSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h1", { text: "Configuraci\xF3n" });
    if (!this.plugin.dv) {
      containerEl.createEl("span", { text: "No se tiene instalado Dataview" });
      return;
    }
    let posiblesMetricas = this.obtenerMetricas();
    if (posiblesMetricas.length == 0) {
      containerEl.createEl("span", { text: "No hay posibles metricas para elegir" });
      return;
    }
    if (this.plugin.settings.metricas.length > 0) {
      for (let [indice, metrica] of this.plugin.settings.metricas.entries()) {
        new import_obsidian.Setting(containerEl).setName(`Setting #${indice + 1}`).setDesc("It's a secret").addDropdown((dropdown) => {
          for (let otrasMetrica of posiblesMetricas) {
            if (otrasMetrica != metrica && this.plugin.settings.metricas.indexOf(otrasMetrica) >= 0)
              continue;
            dropdown = dropdown.addOption(otrasMetrica, otrasMetrica);
          }
          dropdown = dropdown.onChange(async (value) => {
            if (metrica)
              this.plugin.eliminarMetrica(metrica);
            this.plugin.settings.metricas[indice] = value;
            this.plugin.agregarMetrica(value);
            await this.plugin.saveSettings();
          }).setValue(metrica);
          return dropdown;
        });
      }
    }
    let botones = containerEl.createDiv();
    botones.addClass("ordenar-botones");
    if (this.plugin.settings.metricas.length > 0) {
      new import_obsidian.ButtonComponent(botones).setClass("ordenar-boton").setButtonText("Eliminar m\xE9trica").setTooltip("Apretar").onClick(async () => {
        new import_obsidian.Notice("Eliminando");
        let metrica = this.plugin.settings.metricas.pop();
        if (metrica && metrica.trim() != "") {
          this.plugin.eliminarMetrica(metrica);
        }
        await this.plugin.saveSettings();
        this.display();
      });
    }
    if (posiblesMetricas.length > this.plugin.settings.metricas.length) {
      new import_obsidian.ButtonComponent(botones).setClass("ordenar-boton").setButtonText("Agregar m\xE9trica").setTooltip("Apretar").onClick(async () => {
        new import_obsidian.Notice("Agregando");
        let metricaNoUsada = posiblesMetricas.find((metrica) => this.plugin.settings.metricas.indexOf(metrica) < 0);
        this.plugin.settings.metricas.push(metricaNoUsada ? metricaNoUsada : "");
        this.plugin.agregarMetrica(metricaNoUsada ? metricaNoUsada : "");
        await this.plugin.saveSettings();
        this.display();
      });
    }
  }
  obtenerMetricas() {
    var _a;
    return (_a = this.plugin.dv) == null ? void 0 : _a.pages().flatMap((archivo) => Object.entries(archivo.file.frontmatter).map(([key, value]) => key)).groupBy((key) => key).filter(({ key, rows }) => rows.length > 2).map(({ key, rows }) => key).values;
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBNb2RhbCwgTm90aWNlLCBQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcsIERyb3Bkb3duQ29tcG9uZW50LCBCdXR0b25Db21wb25lbnQsIE1hcmtkb3duUmVuZGVyZXIsIENvbXBvbmVudCB9IGZyb20gJ29ic2lkaWFuJztcblxuaW50ZXJmYWNlIE9yZGVuYXJBcmNoaXZvc1BsdWdpblNldHRpbmdzIHtcblx0bWV0cmljYXM6IHN0cmluZ1tdO1xufVxuXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBPcmRlbmFyQXJjaGl2b3NQbHVnaW5TZXR0aW5ncyA9IHtcblx0bWV0cmljYXM6IFtdXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9yZGVuYXJBcmNoaXZvc1BsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG5cdHNldHRpbmdzOiBPcmRlbmFyQXJjaGl2b3NQbHVnaW5TZXR0aW5ncztcblx0ZHY6IHVuZGVmaW5lZCB8IFBsdWdpbjtcblxuXHRhc3luYyBvbmxvYWQoKSB7XG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcblxuXHRcdHRoaXMuYXBwLndvcmtzcGFjZS5vbkxheW91dFJlYWR5KCgpID0+IHtcblx0XHRcdHRoaXMuZHYgPSB0aGlzLmFwcC5wbHVnaW5zLnBsdWdpbnNbXCJkYXRhdmlld1wiXT8uYXBpO1xuXHRcdH0pXG5cblx0XHQvLyBUaGlzIGFkZHMgYSBzaW1wbGUgY29tbWFuZCB0aGF0IGNhbiBiZSB0cmlnZ2VyZWQgYW55d2hlcmVcblx0XHRmb3IgKGxldCBtZXRyaWNhIG9mIHRoaXMuc2V0dGluZ3MubWV0cmljYXMpIHtcblx0XHRcdHRoaXMuYWdyZWdhck1ldHJpY2EobWV0cmljYSk7XG5cdFx0fVxuXG5cdFx0Ly8gVGhpcyBhZGRzIGEgc2V0dGluZ3MgdGFiIHNvIHRoZSB1c2VyIGNhbiBjb25maWd1cmUgdmFyaW91cyBhc3BlY3RzIG9mIHRoZSBwbHVnaW5cblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IFNhbXBsZVNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcblxuXHRcdC8vIElmIHRoZSBwbHVnaW4gaG9va3MgdXAgYW55IGdsb2JhbCBET00gZXZlbnRzIChvbiBwYXJ0cyBvZiB0aGUgYXBwIHRoYXQgZG9lc24ndCBiZWxvbmcgdG8gdGhpcyBwbHVnaW4pXG5cdFx0Ly8gVXNpbmcgdGhpcyBmdW5jdGlvbiB3aWxsIGF1dG9tYXRpY2FsbHkgcmVtb3ZlIHRoZSBldmVudCBsaXN0ZW5lciB3aGVuIHRoaXMgcGx1Z2luIGlzIGRpc2FibGVkLlxuXHRcdC8vIHRoaXMucmVnaXN0ZXJEb21FdmVudChkb2N1bWVudCwgJ2NsaWNrJywgKGV2dDogTW91c2VFdmVudCkgPT4ge1xuXHRcdC8vIFx0Y29uc29sZS5sb2coJ2NsaWNrJywgZXZ0KTtcblx0XHQvLyB9KTtcblxuXHRcdC8vIFdoZW4gcmVnaXN0ZXJpbmcgaW50ZXJ2YWxzLCB0aGlzIGZ1bmN0aW9uIHdpbGwgYXV0b21hdGljYWxseSBjbGVhciB0aGUgaW50ZXJ2YWwgd2hlbiB0aGUgcGx1Z2luIGlzIGRpc2FibGVkLlxuXHRcdHRoaXMucmVnaXN0ZXJJbnRlcnZhbCh3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4gY29uc29sZS5sb2coJ3NldEludGVydmFsJyksIDUgKiA2MCAqIDEwMDApKTtcblx0fVxuXG5cdG9udW5sb2FkKCkge1xuXG5cdH1cblxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XG5cdH1cblxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcblx0fVxuXG5cdGFncmVnYXJNZXRyaWNhKG1ldHJpY2E6IHN0cmluZyk6IHZvaWQge1xuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogYG9wZW4tcmVvcmRlbmFyLSR7dGhpcy50ZW5lck1ldHJpY2FJZChtZXRyaWNhKX1gLFxuXHRcdFx0bmFtZTogYFJlb3JkZW5hciAke21ldHJpY2F9YCxcblx0XHRcdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XG5cdFx0XHRcdG5ldyBSZW9yZGVuYXJNb2RhbCh0aGlzLmFwcCwgdGhpcy5kdiwgbWV0cmljYSkub3BlbigpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0ZWxpbWluYXJNZXRyaWNhKG1ldHJpY2E6IHN0cmluZyk6IHZvaWQge1xuXHRcdHRoaXMucmVtb3ZlQ29tbWFuZChgb3Blbi1yZW9yZGVuYXItJHt0aGlzLnRlbmVyTWV0cmljYUlkKG1ldHJpY2EpfWApO1xuXHR9XG5cblx0dGVuZXJNZXRyaWNhSWQobWV0cmljYTogc3RyaW5nKTogc3RyaW5nIHtcblx0XHRtZXRyaWNhID0gbWV0cmljYS50cmltKCk7XG5cdFx0bGV0IHJlc3VsdGFkbyA9IFwiXCI7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBtZXRyaWNhLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRyZXN1bHRhZG8gKz0gKG1ldHJpY2FbaV0gPT0gXCIgXCIpID8gXCItXCIgOiBtZXRyaWNhLmNoYXJBdChpKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlc3VsdGFkbztcblx0fVxufVxuXG5cbmNsYXNzIFJlb3JkZW5hck1vZGFsIGV4dGVuZHMgTW9kYWwge1xuXHRtZXRyaWNhOiBzdHJpbmc7XG5cdGNvbXBvbmVudDogQ29tcG9uZW50O1xuXHRhcmNoaXZvczoge31bXTtcblx0dWx0aW1hOiBudW1iZXJbXTtcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgZHY6IFBsdWdpbiwgbWV0cmljYTogc3RyaW5nKSB7XG5cdFx0c3VwZXIoYXBwKTtcblx0XHR0aGlzLm1ldHJpY2EgPSBtZXRyaWNhO1xuXHRcdHRoaXMuY29tcG9uZW50ID0gbmV3IENvbXBvbmVudCgpO1xuXHRcdHRoaXMuYXJjaGl2b3MgPSBkdi5wYWdlcygpXG5cdFx0XHQuZmlsdGVyKGFyY2hpdm8gPT4gYXJjaGl2b1t0aGlzLm1ldHJpY2FdKVxuXHRcdFx0LnNvcnQoYXJjaGl2byA9PiBhcmNoaXZvW3RoaXMubWV0cmljYV0pXG5cdFx0XHQubWFwKGFyY2hpdm8gPT4gKHsgXG5cdFx0XHRcdHBhdGg6IGFyY2hpdm8uZmlsZS5wYXRoLCBcblx0XHRcdFx0bmFtZTogYXJjaGl2by5maWxlLm5hbWUsIFxuXHRcdFx0XHRtZXRyaWNhOiBhcmNoaXZvW21ldHJpY2FdIFxuXHRcdFx0fSkpO1xuXHRcdHRoaXMudWx0aW1hID0gW107XG5cdH1cblxuXHRhc3luYyBvbk9wZW4oKTogUHJvbWlzZTx2b2lkPiB7XG5cdFx0Y29uc3Qge2NvbnRlbnRFbH0gPSB0aGlzO1xuXHRcdHRoaXMuY29tcG9uZW50LmxvYWQoKTtcblxuXHRcdHRoaXMuc2V0VGl0bGUoYEFob3JhIHZhbW9zIGEgcmVvcmRlbmFyICR7dGhpcy5tZXRyaWNhfWApXG5cdFx0dGhpcy5tb2RhbEVsLmFkZENsYXNzKFwib3JkZW5hci12ZW50YW5hXCIpO1xuXG5cdFx0bGV0IFsgaW5kaWNlVW5vLCBpbmRpY2VEb3MgXSA9IHRoaXMuY29uc2VndWlyQXJjaGl2b3MoKTtcblx0XHRsZXQgWyBhcmNoaXZvVW5vLCBhcmNoaXZvRG9zIF0gPSBbIGluZGljZVVubywgaW5kaWNlRG9zIF0ubWFwKGluZGljZSA9PiB0aGlzLmFyY2hpdm9zW2luZGljZV0pO1xuXHRcdGxldCB0QXJjaGl2b1VubyA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChhcmNoaXZvVW5vLnBhdGgpO1xuXHRcdGxldCB0QXJjaGl2b0RvcyA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChhcmNoaXZvRG9zLnBhdGgpO1xuXG5cdFx0bGV0IFsgY29udGVuaWRvVW5vLCBjb250ZW5pZG9Eb3MgXSA9IChhd2FpdCBQcm9taXNlLmFsbChbXG5cdFx0XHR0aGlzLmFwcC52YXVsdC5yZWFkKHRBcmNoaXZvVW5vKSxcblx0XHRcdHRoaXMuYXBwLnZhdWx0LnJlYWQodEFyY2hpdm9Eb3MpXG5cdFx0XSkpLm1hcChjb250ZW5pZG8gPT4gdGhpcy5zYWNhckZyb250bWF0dGVyKGNvbnRlbmlkbykpO1xuXG5cdFx0bGV0IHNlcGFyYWNpb24gPSBjb250ZW50RWwuY3JlYXRlRGl2KCk7XG5cdFx0c2VwYXJhY2lvbi5hZGRDbGFzcyhcIm9yZGVuYXItc2VwYXJhY2lvblwiKTtcblx0XHRcblxuXHRcdGxldCBkaXZJenF1aWVyZGEgPSBuZXcgQnV0dG9uQ29tcG9uZW50KHNlcGFyYWNpb24pXG5cdFx0XHQuc2V0Q2xhc3MoXCJvcmRlbmFyLWFyY2hpdm9cIilcblx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcblx0XHRcdFx0bGV0IG1ldHJpY2FNZWpvciA9IGFyY2hpdm9Vbm8ubWV0cmljYTtcbiAgICAgICAgICAgIFx0bGV0IG1ldHJpY2FQZW9yID0gYXJjaGl2b0Rvcy5tZXRyaWNhO1xuXG5cdFx0XHRcdGlmICggcGFyc2VJbnQobWV0cmljYU1lam9yLCAxMCkgPiBwYXJzZUludChtZXRyaWNhUGVvciwgMTApICkge1xuXHRcdFx0XHRcdHRoaXMuYXJjaGl2b3NbaW5kaWNlVW5vXVtcIm1ldHJpY2FcIl0gPSBtZXRyaWNhUGVvcjtcblx0XHRcdFx0XHR0aGlzLmFyY2hpdm9zW2luZGljZURvc11bXCJtZXRyaWNhXCJdID0gbWV0cmljYU1lam9yO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGF3YWl0IHRoaXMub25DbG9zZSgpOyBcblx0XHRcdFx0dGhpcy5vbk9wZW4oKTtcblx0XHRcdH0pXG5cdFx0XHQuYnV0dG9uRWw7XG5cblx0XHRsZXQgdGFyZWFJenF1aWVyZGEgPSBNYXJrZG93blJlbmRlcmVyXG5cdFx0XHQucmVuZGVyKHRoaXMuYXBwLCBgIyAke2FyY2hpdm9Vbm8ubmFtZX1cXG4tLS1cXG4ke2NvbnRlbmlkb1Vub31gLCBkaXZJenF1aWVyZGEuY3JlYXRlRGl2KHsgY2xzOiBcIm9yZGVuYXItYXJjaGl2by1jb250ZW5pZG9cIiB9KSwgXCJcIiwgdGhpcy5jb21wb25lbnQpO1xuXG5cdFx0bGV0IGRpdkRlcmVjaGEgPSBuZXcgQnV0dG9uQ29tcG9uZW50KHNlcGFyYWNpb24pXG5cdFx0XHQuc2V0Q2xhc3MoXCJvcmRlbmFyLWFyY2hpdm9cIilcblx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcblx0XHRcdFx0bGV0IG1ldHJpY2FNZWpvciA9IGFyY2hpdm9Eb3MubWV0cmljYTtcbiAgICAgICAgICAgIFx0bGV0IG1ldHJpY2FQZW9yID0gYXJjaGl2b1Vuby5tZXRyaWNhO1xuXG5cdFx0XHRcdGlmICggcGFyc2VJbnQobWV0cmljYU1lam9yLCAxMCkgPiBwYXJzZUludChtZXRyaWNhUGVvciwgMTApICkge1xuXHRcdFx0XHRcdHRoaXMuYXJjaGl2b3NbaW5kaWNlRG9zXVtcIm1ldHJpY2FcIl0gPSBtZXRyaWNhUGVvcjtcblx0XHRcdFx0XHR0aGlzLmFyY2hpdm9zW2luZGljZVVub11bXCJtZXRyaWNhXCJdID0gbWV0cmljYU1lam9yO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGF3YWl0IHRoaXMub25DbG9zZSgpOyBcblx0XHRcdFx0dGhpcy5vbk9wZW4oKTtcblx0XHRcdH0pXG5cdFx0XHQuYnV0dG9uRWw7XG5cblx0XHRsZXQgdGFyZWFEZXJlY2hhID0gTWFya2Rvd25SZW5kZXJlclxuXHRcdFx0LnJlbmRlcih0aGlzLmFwcCwgYCMgJHthcmNoaXZvRG9zLm5hbWV9XFxuLS0tXFxuJHtjb250ZW5pZG9Eb3N9YCwgZGl2RGVyZWNoYS5jcmVhdGVEaXYoeyBjbHM6IFwib3JkZW5hci1hcmNoaXZvLWNvbnRlbmlkb1wiIH0pLCBcIlwiLCB0aGlzLmNvbXBvbmVudCk7XG5cblx0XHRhd2FpdCBQcm9taXNlLmFsbChbIHRhcmVhSXpxdWllcmRhLCB0YXJlYURlcmVjaGEgXSk7XG5cdH1cblxuXHRhc3luYyBvbkNsb3NlKCk6IFByb21pc2U8dm9pZD4ge1xuXHRcdGNvbnN0IHtjb250ZW50RWx9ID0gdGhpcztcblx0XHRjb250ZW50RWwuZW1wdHkoKTtcblxuXHRcdHRoaXMuY29tcG9uZW50LnVubG9hZCgpO1xuXG5cdFx0aWYgKCF0aGlzLnVsdGltYSkgcmV0dXJuO1xuXG5cdFx0bGV0IHRhcmVhcyA9IHRoaXMudWx0aW1hLm1hcChpbmRpY2UgPT4gdGhpcy5hcmNoaXZvc1tpbmRpY2VdKVxuXHRcdFx0Lm1hcCgoeyBwYXRoLCBuYW1lLCBtZXRyaWNhIH0pID0+IHtcblx0XHRcdFx0bGV0IHRBcmNoaXZvID0gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHBhdGgpO1xuXG5cdFx0XHRcdHJldHVybiB0aGlzLmFwcC5maWxlTWFuYWdlci5wcm9jZXNzRnJvbnRNYXR0ZXIodEFyY2hpdm8sIChmcm9udG1hdHRlcikgPT4ge1xuXHRcdFx0XHRcdGZyb250bWF0dGVyW3RoaXMubWV0cmljYV0gPSBtZXRyaWNhO1xuXHRcdFx0XHR9KVxuXHRcdFx0fSk7XG5cblx0XHRhd2FpdCBQcm9taXNlLmFsbCh0YXJlYXMpO1xuXHR9XG5cblx0c2FjYXJGcm9udG1hdHRlcihjb250ZW5pZG86IHN0cmluZyk6IHN0cmluZyB7XG5cdFx0aWYgKGNvbnRlbmlkby5zbGljZSgwLCAzKSAhPSBcIi0tLVwiKVxuXHRcdFx0cmV0dXJuIGNvbnRlbmlkbztcblx0XHRjb250ZW5pZG8gPSBjb250ZW5pZG8uc2xpY2UoMyk7XG5cdFx0XG5cdFx0bGV0IGluZGljZSA9IGNvbnRlbmlkby5pbmRleE9mKFwiLS0tXCIpXG5cdFx0aW5kaWNlICs9IGNvbnRlbmlkby5zbGljZShpbmRpY2UpLmluZGV4T2YoXCJcXG5cIikgKyAxO1xuXG5cdFx0cmV0dXJuIGNvbnRlbmlkby5zbGljZShpbmRpY2UpO1xuXHR9XG5cblx0Y29uc2VndWlyQXJjaGl2b3MoKSB7XG5cdFx0bGV0IGluZGljZVByaW5jaXBhbCwgaW5kaWNlU2VjdW5kYXJpbztcblxuXHRcdGRvIHtcbiAgICAgICAgXHRpbmRpY2VQcmluY2lwYWwgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLmFyY2hpdm9zLmxlbmd0aCk7XG5cdFx0XHRpbmRpY2VTZWN1bmRhcmlvID0gaW5kaWNlUHJpbmNpcGFsID09IDAgPyAxIDogaW5kaWNlUHJpbmNpcGFsIC0gMTtcblxuXHRcdH0gd2hpbGUgKFxuXHRcdFx0dGhpcy51bHRpbWEubGVuZ3RoID4gMCAmJiBcblx0XHRcdCggKHRoaXMudWx0aW1hWzBdID09IGluZGljZVByaW5jaXBhbCAmJiB0aGlzLnVsdGltYVsxXSA9PSBpbmRpY2VTZWN1bmRhcmlvKSB8fFxuXHRcdFx0ICAodGhpcy51bHRpbWFbMV0gPT0gaW5kaWNlUHJpbmNpcGFsICYmIHRoaXMudWx0aW1hWzBdID09IGluZGljZVNlY3VuZGFyaW8pIClcblx0XHQpO1xuXHRcdFxuXHRcdHRoaXMudWx0aW1hWzBdID0gaW5kaWNlUHJpbmNpcGFsO1xuXHRcdHRoaXMudWx0aW1hWzFdID0gaW5kaWNlU2VjdW5kYXJpbztcblxuXHRcdHJldHVybiAodGhpcy5hcmNoaXZvc1tpbmRpY2VQcmluY2lwYWxdLm1ldHJpY2EgPCB0aGlzLmFyY2hpdm9zW2luZGljZVNlY3VuZGFyaW9dLm1ldHJpY2EpIFxuXHRcdFx0PyBbIGluZGljZVByaW5jaXBhbCwgaW5kaWNlU2VjdW5kYXJpbyBdXG5cdFx0XHQ6IFsgaW5kaWNlU2VjdW5kYXJpbywgaW5kaWNlUHJpbmNpcGFsIF07XG4gICAgfVxufVxuXG5jbGFzcyBTYW1wbGVTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG5cdHBsdWdpbjogT3JkZW5hckFyY2hpdm9zUGx1Z2luO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IE9yZGVuYXJBcmNoaXZvc1BsdWdpbikge1xuXHRcdHN1cGVyKGFwcCwgcGx1Z2luKTtcblx0XHR0aGlzLnBsdWdpbiA9IHBsdWdpbjtcblx0fVxuXG5cdGRpc3BsYXkoKTogdm9pZCB7XG5cdFx0Y29uc3Qge2NvbnRhaW5lckVsfSA9IHRoaXM7XG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcblxuXHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwiaDFcIiwgeyB0ZXh0OiBcIkNvbmZpZ3VyYWNpXHUwMEYzblwiIH0pXG5cblx0XHRpZiAoIXRoaXMucGx1Z2luLmR2KSB7XG5cdFx0XHRjb250YWluZXJFbC5jcmVhdGVFbChcInNwYW5cIiwgeyB0ZXh0OiBcIk5vIHNlIHRpZW5lIGluc3RhbGFkbyBEYXRhdmlld1wiIH0pXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdFxuXHRcdGxldCBwb3NpYmxlc01ldHJpY2FzID0gdGhpcy5vYnRlbmVyTWV0cmljYXMoKTtcblx0XHRpZiAocG9zaWJsZXNNZXRyaWNhcy5sZW5ndGggPT0gMCkge1xuXHRcdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoXCJzcGFuXCIsIHsgdGV4dDogXCJObyBoYXkgcG9zaWJsZXMgbWV0cmljYXMgcGFyYSBlbGVnaXJcIiB9KVxuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5tZXRyaWNhcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRmb3IgKGxldCBbaW5kaWNlLCBtZXRyaWNhXSBvZiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5tZXRyaWNhcy5lbnRyaWVzKCkpIHtcblx0XHRcdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHRcdFx0LnNldE5hbWUoYFNldHRpbmcgIyR7aW5kaWNlICsgMX1gKVxuXHRcdFx0XHRcdC5zZXREZXNjKCdJdFxcJ3MgYSBzZWNyZXQnKVxuXHRcdFx0XHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiB7XG5cdFx0XHRcdFx0XHRmb3IgKGxldCBvdHJhc01ldHJpY2Egb2YgcG9zaWJsZXNNZXRyaWNhcykge1xuXHRcdFx0XHRcdFx0XHRpZiAob3RyYXNNZXRyaWNhICE9IG1ldHJpY2EgJiYgdGhpcy5wbHVnaW4uc2V0dGluZ3MubWV0cmljYXMuaW5kZXhPZihvdHJhc01ldHJpY2EpID49IDApXG5cdFx0XHRcdFx0XHRcdFx0Y29udGludWVcblxuXHRcdFx0XHRcdFx0XHRkcm9wZG93biA9IGRyb3Bkb3duLmFkZE9wdGlvbihvdHJhc01ldHJpY2EsIG90cmFzTWV0cmljYSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGRyb3Bkb3duID0gZHJvcGRvd24ub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGlmIChtZXRyaWNhKSB0aGlzLnBsdWdpbi5lbGltaW5hck1ldHJpY2EobWV0cmljYSk7XG5cdFx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm1ldHJpY2FzW2luZGljZV0gPSB2YWx1ZTtcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uYWdyZWdhck1ldHJpY2EodmFsdWUpO1xuXHRcdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdH0pLnNldFZhbHVlKG1ldHJpY2EpO1xuXG5cdFx0XHRcdFx0XHRyZXR1cm4gZHJvcGRvd247XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bGV0IGJvdG9uZXMgPSBjb250YWluZXJFbC5jcmVhdGVEaXYoKTtcblx0XHRib3RvbmVzLmFkZENsYXNzKFwib3JkZW5hci1ib3RvbmVzXCIpXG5cblx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MubWV0cmljYXMubGVuZ3RoID4gMCkge1xuXHRcdFx0bmV3IEJ1dHRvbkNvbXBvbmVudChib3RvbmVzKVxuXHRcdFx0XHQuc2V0Q2xhc3MoXCJvcmRlbmFyLWJvdG9uXCIpXG5cdFx0XHRcdC5zZXRCdXR0b25UZXh0KFwiRWxpbWluYXIgbVx1MDBFOXRyaWNhXCIpXG5cdFx0XHRcdC5zZXRUb29sdGlwKFwiQXByZXRhclwiKVxuXHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0bmV3IE5vdGljZShcIkVsaW1pbmFuZG9cIilcblx0XHRcdFx0XHRsZXQgbWV0cmljYSA9IHRoaXMucGx1Z2luLnNldHRpbmdzLm1ldHJpY2FzLnBvcCgpO1xuXHRcdFx0XHRcdGlmIChtZXRyaWNhICYmIG1ldHJpY2EudHJpbSgpICE9IFwiXCIpIHtcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLmVsaW1pbmFyTWV0cmljYShtZXRyaWNhKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcblx0XHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0aWYgKHBvc2libGVzTWV0cmljYXMubGVuZ3RoID4gdGhpcy5wbHVnaW4uc2V0dGluZ3MubWV0cmljYXMubGVuZ3RoKSB7XG5cdFx0XHRuZXcgQnV0dG9uQ29tcG9uZW50KGJvdG9uZXMpXG5cdFx0XHRcdC5zZXRDbGFzcyhcIm9yZGVuYXItYm90b25cIilcblx0XHRcdFx0LnNldEJ1dHRvblRleHQoXCJBZ3JlZ2FyIG1cdTAwRTl0cmljYVwiKVxuXHRcdFx0XHQuc2V0VG9vbHRpcChcIkFwcmV0YXJcIilcblx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdG5ldyBOb3RpY2UoXCJBZ3JlZ2FuZG9cIilcblx0XHRcdFx0XHRsZXQgbWV0cmljYU5vVXNhZGEgPSBwb3NpYmxlc01ldHJpY2FzXG5cdFx0XHRcdFx0XHQuZmluZChtZXRyaWNhID0+IHRoaXMucGx1Z2luLnNldHRpbmdzLm1ldHJpY2FzLmluZGV4T2YobWV0cmljYSkgPCAwKTtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5tZXRyaWNhcy5wdXNoKG1ldHJpY2FOb1VzYWRhID8gbWV0cmljYU5vVXNhZGEgOiBcIlwiKTtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5hZ3JlZ2FyTWV0cmljYShtZXRyaWNhTm9Vc2FkYSA/IG1ldHJpY2FOb1VzYWRhIDogXCJcIik7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7XG5cdFx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdG9idGVuZXJNZXRyaWNhcygpOiBzdHJpbmdbXSB7XG5cdFx0cmV0dXJuIHRoaXMucGx1Z2luLmR2Py5wYWdlcygpXG5cdFx0XHQuZmxhdE1hcChhcmNoaXZvID0+IE9iamVjdC5lbnRyaWVzKGFyY2hpdm8uZmlsZS5mcm9udG1hdHRlcilcblx0XHRcdC5tYXAoKFtrZXksIHZhbHVlXSkgPT4ga2V5KSlcblx0XHRcdC5ncm91cEJ5KGtleSA9PiBrZXkpXG5cdFx0XHQuZmlsdGVyKCh7IGtleSwgcm93cyB9KSA9PiByb3dzLmxlbmd0aCA+IDIpXG5cdFx0XHQubWFwKCh7IGtleSwgcm93cyB9KSA9PiBrZXkpXG5cdFx0XHQudmFsdWVzO1xuXHR9XG59XG4iXSwKICAibWFwcGluZ3MiOiAiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsc0JBQXVJO0FBTXZJLElBQU0sbUJBQWtEO0FBQUEsRUFDdkQsVUFBVSxDQUFDO0FBQ1o7QUFFQSxJQUFxQix3QkFBckIsY0FBbUQsdUJBQU87QUFBQSxFQUl6RCxNQUFNLFNBQVM7QUFDZCxVQUFNLEtBQUssYUFBYTtBQUV4QixTQUFLLElBQUksVUFBVSxjQUFjLE1BQU07QUFqQnpDO0FBa0JHLFdBQUssTUFBSyxVQUFLLElBQUksUUFBUSxRQUFRLFVBQVUsTUFBbkMsbUJBQXNDO0FBQUEsSUFDakQsQ0FBQztBQUdELGFBQVMsV0FBVyxLQUFLLFNBQVMsVUFBVTtBQUMzQyxXQUFLLGVBQWUsT0FBTztBQUFBLElBQzVCO0FBR0EsU0FBSyxjQUFjLElBQUksaUJBQWlCLEtBQUssS0FBSyxJQUFJLENBQUM7QUFTdkQsU0FBSyxpQkFBaUIsT0FBTyxZQUFZLE1BQU0sUUFBUSxJQUFJLGFBQWEsR0FBRyxJQUFJLEtBQUssR0FBSSxDQUFDO0FBQUEsRUFDMUY7QUFBQSxFQUVBLFdBQVc7QUFBQSxF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
