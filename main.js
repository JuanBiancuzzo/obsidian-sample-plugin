/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => OrdenarArchivosPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  metricas: []
};
var OrdenarArchivosPlugin = class extends import_obsidian.Plugin {
  async onload() {
    await this.loadSettings();
    this.app.workspace.onLayoutReady(() => {
      var _a;
      this.dv = (_a = this.app.plugins.plugins["dataview"]) == null ? void 0 : _a.api;
    });
    for (let metrica of this.settings.metricas) {
      this.agregarMetrica(metrica);
    }
    this.registerDomEvent(document, "keydown", async (event) => {
      if (event.code == "KeyL" && this.modal) {
        await this.modal.establecerComparacion("der");
      } else if (event.code == "KeyJ" && this.modal) {
        await this.modal.establecerComparacion("izq");
      }
    });
    this.addSettingTab(new SampleSettingTab(this.app, this));
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  agregarMetrica(metrica) {
    this.addCommand({
      id: `open-reordenar-${this.tenerMetricaId(metrica)}`,
      name: `Reordenar ${metrica}`,
      callback: async () => {
        if (this.modal) {
          await this.modal.onClose();
          this.modal.close();
        }
        this.modal = new ReordenarModal(this.app, this.dv, metrica);
        await this.modal.open();
      }
    });
  }
  eliminarMetrica(metrica) {
    this.removeCommand(`open-reordenar-${this.tenerMetricaId(metrica)}`);
  }
  tenerMetricaId(metrica) {
    metrica = metrica.trim();
    let resultado = "";
    for (let i = 0; i < metrica.length; i++) {
      resultado += metrica[i] == " " ? "-" : metrica.charAt(i);
    }
    return resultado;
  }
};
var ReordenarModal = class extends import_obsidian.Modal {
  constructor(app, dv, metrica) {
    super(app);
    this.metrica = metrica;
    this.component = new import_obsidian.Component();
    this.archivos = dv.pages().filter((archivo) => archivo[this.metrica]).sort((archivo) => archivo[this.metrica]).map((archivo) => ({
      path: archivo.file.path,
      name: archivo.file.name,
      metrica: archivo[metrica]
    }));
    this.ultima = [];
  }
  async onOpen() {
    const { contentEl } = this;
    this.component.load();
    this.setTitle(`Seleccionar cual es mejor seg\xFAn "${this.metrica}"`);
    this.modalEl.addClass("ordenar-ventana");
    [this.indiceIzq, this.indiceDer] = this.conseguirArchivos();
    let [archivoUno, archivoDos] = [this.indiceDer, this.indiceIzq].map((indice) => this.archivos[indice]);
    let [tArchivoUno, tArchivoDos] = [archivoUno, archivoDos].map((archivo) => this.app.vault.getAbstractFileByPath(archivo.path));
    let [contenidoUno, contenidoDos] = (await Promise.all([
      this.app.vault.read(tArchivoUno),
      this.app.vault.read(tArchivoDos)
    ])).map((contenido) => this.sacarFrontmatter(contenido));
    let separacion = contentEl.createDiv();
    separacion.addClass("ordenar-separacion");
    let divIzquierda = new import_obsidian.ButtonComponent(separacion).setClass("ordenar-archivo").onClick(async () => await this.establecerComparacion("izq")).buttonEl;
    let tareaIzquierda = import_obsidian.MarkdownRenderer.render(
      this.app,
      `# ${archivoUno.name}
---
${contenidoUno}`,
      divIzquierda.createDiv({ cls: "ordenar-archivo-contenido" }),
      archivoUno.path,
      this.component
    );
    let divDerecha = new import_obsidian.ButtonComponent(separacion).setClass("ordenar-archivo").onClick(async () => await this.establecerComparacion("der")).buttonEl;
    let tareaDerecha = import_obsidian.MarkdownRenderer.render(
      this.app,
      `# ${archivoDos.name}
---
${contenidoDos}`,
      divDerecha.createDiv({ cls: "ordenar-archivo-contenido" }),
      archivoDos.path,
      this.component
    );
    await Promise.all([tareaIzquierda, tareaDerecha]);
  }
  async onClose() {
    const { contentEl } = this;
    contentEl.empty();
    this.component.unload();
    if (!this.ultima)
      return;
    let tareas = this.ultima.map((indice) => this.archivos[indice]).map(({ path, name, metrica }) => {
      let tArchivo = this.app.vault.getAbstractFileByPath(path);
      return this.app.fileManager.processFrontMatter(tArchivo, (frontmatter) => {
        frontmatter[this.metrica] = metrica;
      });
    });
    await Promise.all(tareas);
  }
  async establecerComparacion(dir) {
    let indiceMejor = dir == "der" ? this.indiceDer : this.indiceIzq;
    let indicePeor = dir == "der" ? this.indiceIzq : this.indiceDer;
    let metricaMejor = this.archivos[indiceMejor].metrica;
    let metricaPeor = this.archivos[indicePeor].metrica;
    if (parseInt(metricaMejor, 10) > parseInt(metricaPeor, 10)) {
      this.archivos[indiceMejor]["metrica"] = metricaPeor;
      this.archivos[indicePeor]["metrica"] = metricaMejor;
    }
    await this.onClose();
    this.onOpen();
  }
  sacarFrontmatter(contenido) {
    if (contenido.slice(0, 3) != "---")
      return contenido;
    contenido = contenido.slice(3);
    let indice = contenido.indexOf("---");
    indice += contenido.slice(indice).indexOf("\n") + 1;
    return contenido.slice(indice);
  }
  conseguirArchivos() {
    let indicePrincipal, indiceSecundario;
    do {
      indicePrincipal = Math.floor(Math.random() * this.archivos.length);
      indiceSecundario = indicePrincipal == 0 ? 1 : indicePrincipal - 1;
    } while (this.ultima.length > 0 && (this.ultima[0] == indicePrincipal && this.ultima[1] == indiceSecundario || this.ultima[1] == indicePrincipal && this.ultima[0] == indiceSecundario));
    this.ultima[0] = indicePrincipal;
    this.ultima[1] = indiceSecundario;
    return this.archivos[indicePrincipal].metrica < this.archivos[indiceSecundario].metrica ? [indicePrincipal, indiceSecundario] : [indiceSecundario, indicePrincipal];
  }
};
var SampleSettingTab = class extends import_obsidian.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h1", { text: "Configuraci\xF3n" });
    if (!this.plugin.dv) {
      containerEl.createEl("span", { text: "No se tiene instalado Dataview" });
      return;
    }
    let posiblesMetricas = this.obtenerMetricas();
    if (posiblesMetricas.length == 0) {
      containerEl.createEl("span", { text: "No hay posibles metricas para elegir" });
      return;
    }
    if (this.plugin.settings.metricas.length > 0) {
      for (let [indice, metrica] of this.plugin.settings.metricas.entries()) {
        new import_obsidian.Setting(containerEl).setName(`Setting #${indice + 1}`).setDesc("It's a secret").addDropdown((dropdown) => {
          for (let otrasMetrica of posiblesMetricas) {
            if (otrasMetrica != metrica && this.plugin.settings.metricas.indexOf(otrasMetrica) >= 0)
              continue;
            dropdown = dropdown.addOption(otrasMetrica, otrasMetrica);
          }
          dropdown = dropdown.onChange(async (value) => {
            if (metrica)
              this.plugin.eliminarMetrica(metrica);
            this.plugin.settings.metricas[indice] = value;
            this.plugin.agregarMetrica(value);
            await this.plugin.saveSettings();
          }).setValue(metrica);
          return dropdown;
        });
      }
    }
    let botones = containerEl.createDiv();
    botones.addClass("ordenar-botones");
    if (this.plugin.settings.metricas.length > 0) {
      new import_obsidian.ButtonComponent(botones).setClass("ordenar-boton").setButtonText("Eliminar m\xE9trica").setTooltip("Apretar").onClick(async () => {
        new import_obsidian.Notice("Eliminando");
        let metrica = this.plugin.settings.metricas.pop();
        if (metrica && metrica.trim() != "") {
          this.plugin.eliminarMetrica(metrica);
        }
        await this.plugin.saveSettings();
        this.display();
      });
    }
    if (posiblesMetricas.length > this.plugin.settings.metricas.length) {
      new import_obsidian.ButtonComponent(botones).setClass("ordenar-boton").setButtonText("Agregar m\xE9trica").setTooltip("Apretar").onClick(async () => {
        new import_obsidian.Notice("Agregando");
        let metricaNoUsada = posiblesMetricas.find((metrica) => this.plugin.settings.metricas.indexOf(metrica) < 0);
        this.plugin.settings.metricas.push(metricaNoUsada ? metricaNoUsada : "");
        this.plugin.agregarMetrica(metricaNoUsada ? metricaNoUsada : "");
        await this.plugin.saveSettings();
        this.display();
      });
    }
  }
  obtenerMetricas() {
    var _a;
    return (_a = this.plugin.dv) == null ? void 0 : _a.pages().flatMap((archivo) => Object.entries(archivo.file.frontmatter).map(([key, value]) => key)).groupBy((key) => key).filter(({ key, rows }) => rows.length > 2).map(({ key, rows }) => key).values;
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBNb2RhbCwgTm90aWNlLCBQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcsIERyb3Bkb3duQ29tcG9uZW50LCBCdXR0b25Db21wb25lbnQsIE1hcmtkb3duUmVuZGVyZXIsIENvbXBvbmVudCB9IGZyb20gJ29ic2lkaWFuJztcblxuaW50ZXJmYWNlIE9yZGVuYXJBcmNoaXZvc1BsdWdpblNldHRpbmdzIHtcblx0bWV0cmljYXM6IHN0cmluZ1tdO1xufVxuXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBPcmRlbmFyQXJjaGl2b3NQbHVnaW5TZXR0aW5ncyA9IHtcblx0bWV0cmljYXM6IFtdXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9yZGVuYXJBcmNoaXZvc1BsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG5cdHNldHRpbmdzOiBPcmRlbmFyQXJjaGl2b3NQbHVnaW5TZXR0aW5ncztcblx0ZHY6IHVuZGVmaW5lZCB8IFBsdWdpbjtcblx0bW9kYWw6IHVuZGVmaW5lZCB8IFJlb3JkZW5hck1vZGFsO1xuXG5cdGFzeW5jIG9ubG9hZCgpIHtcblx0XHRhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXG5cdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uTGF5b3V0UmVhZHkoKCkgPT4ge1xuXHRcdFx0dGhpcy5kdiA9IHRoaXMuYXBwLnBsdWdpbnMucGx1Z2luc1tcImRhdGF2aWV3XCJdPy5hcGk7XG5cdFx0fSlcblxuXHRcdC8vIFRoaXMgYWRkcyBhIHNpbXBsZSBjb21tYW5kIHRoYXQgY2FuIGJlIHRyaWdnZXJlZCBhbnl3aGVyZVxuXHRcdGZvciAobGV0IG1ldHJpY2Egb2YgdGhpcy5zZXR0aW5ncy5tZXRyaWNhcykge1xuXHRcdFx0dGhpcy5hZ3JlZ2FyTWV0cmljYShtZXRyaWNhKTtcblx0XHR9XG5cblxuXG5cdFx0dGhpcy5yZWdpc3RlckRvbUV2ZW50KGRvY3VtZW50LCAna2V5ZG93bicsIGFzeW5jIChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4ge1xuXHRcdFx0aWYgKGV2ZW50LmNvZGUgPT0gXCJLZXlMXCIgJiYgdGhpcy5tb2RhbCkge1xuXHRcdFx0XHRhd2FpdCB0aGlzLm1vZGFsLmVzdGFibGVjZXJDb21wYXJhY2lvbignZGVyJyk7XG5cdFx0XHR9IGVsc2UgaWYgKGV2ZW50LmNvZGUgPT0gXCJLZXlKXCIgJiYgdGhpcy5tb2RhbCkge1xuXHRcdFx0XHRhd2FpdCB0aGlzLm1vZGFsLmVzdGFibGVjZXJDb21wYXJhY2lvbignaXpxJyk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBUaGlzIGFkZHMgYSBzZXR0aW5ncyB0YWIgc28gdGhlIHVzZXIgY2FuIGNvbmZpZ3VyZSB2YXJpb3VzIGFzcGVjdHMgb2YgdGhlIHBsdWdpblxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgU2FtcGxlU2V0dGluZ1RhYih0aGlzLmFwcCwgdGhpcykpO1xuXG5cdFx0Ly8gSWYgdGhlIHBsdWdpbiBob29rcyB1cCBhbnkgZ2xvYmFsIERPTSBldmVudHMgKG9uIHBhcnRzIG9mIHRoZSBhcHAgdGhhdCBkb2Vzbid0IGJlbG9uZyB0byB0aGlzIHBsdWdpbilcblx0XHQvLyBVc2luZyB0aGlzIGZ1bmN0aW9uIHdpbGwgYXV0b21hdGljYWxseSByZW1vdmUgdGhlIGV2ZW50IGxpc3RlbmVyIHdoZW4gdGhpcyBwbHVnaW4gaXMgZGlzYWJsZWQuXG5cdFx0Ly8gdGhpcy5yZWdpc3RlckRvbUV2ZW50KGRvY3VtZW50LCAna2V5ZG93bicsIGFzeW5jIChldmVudDogS2V5Ym9hcmRFdmVudCkgPT4ge1xuXHRcdC8vIFx0aWYgKGV2ZW50LmNvZGUgPT0gXCJFc2NhcGVcIiAmJiB0aGlzLm1vZGFsKSB7XG5cdFx0Ly8gXHRcdGF3YWl0IHRoaXMubW9kYWwub25DbG9zZSgpO1xuXHRcdC8vIFx0XHR0aGlzLm1vZGFsLmNsb3NlKCk7XG5cdFx0Ly8gXHR9XG5cdFx0Ly8gfSk7XG5cblxuXHRcdC8vIFdoZW4gcmVnaXN0ZXJpbmcgaW50ZXJ2YWxzLCB0aGlzIGZ1bmN0aW9uIHdpbGwgYXV0b21hdGljYWxseSBjbGVhciB0aGUgaW50ZXJ2YWwgd2hlbiB0aGUgcGx1Z2luIGlzIGRpc2FibGVkLlxuXHRcdC8vIHRoaXMucmVnaXN0ZXJJbnRlcnZhbCh3aW5kb3cuc2V0SW50ZXJ2YWwoKCkgPT4gY29uc29sZS5sb2coJ3NldEludGVydmFsJyksIDUgKiA2MCAqIDEwMDApKTtcblx0fVxuXG5cdG9udW5sb2FkKCkge1xuXG5cdH1cblxuXHRhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG5cdFx0dGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XG5cdH1cblxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcblx0fVxuXG5cdGFncmVnYXJNZXRyaWNhKG1ldHJpY2E6IHN0cmluZyk6IHZvaWQge1xuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogYG9wZW4tcmVvcmRlbmFyLSR7dGhpcy50ZW5lck1ldHJpY2FJZChtZXRyaWNhKX1gLFxuXHRcdFx0bmFtZTogYFJlb3JkZW5hciAke21ldHJpY2F9YCxcblx0XHRcdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XG5cdFx0XHRcdGlmICh0aGlzLm1vZGFsKSB7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5tb2RhbC5vbkNsb3NlKCk7XG5cdFx0XHRcdFx0dGhpcy5tb2RhbC5jbG9zZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMubW9kYWwgPSBuZXcgUmVvcmRlbmFyTW9kYWwodGhpcy5hcHAsIHRoaXMuZHYsIG1ldHJpY2EpO1xuXHRcdFx0XHRhd2FpdCB0aGlzLm1vZGFsLm9wZW4oKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdGVsaW1pbmFyTWV0cmljYShtZXRyaWNhOiBzdHJpbmcpOiB2b2lkIHtcblx0XHR0aGlzLnJlbW92ZUNvbW1hbmQoYG9wZW4tcmVvcmRlbmFyLSR7dGhpcy50ZW5lck1ldHJpY2FJZChtZXRyaWNhKX1gKTtcblx0fVxuXG5cdHRlbmVyTWV0cmljYUlkKG1ldHJpY2E6IHN0cmluZyk6IHN0cmluZyB7XG5cdFx0bWV0cmljYSA9IG1ldHJpY2EudHJpbSgpO1xuXHRcdGxldCByZXN1bHRhZG8gPSBcIlwiO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbWV0cmljYS5sZW5ndGg7IGkrKykge1xuXHRcdFx0cmVzdWx0YWRvICs9IChtZXRyaWNhW2ldID09IFwiIFwiKSA/IFwiLVwiIDogbWV0cmljYS5jaGFyQXQoaSk7XG5cdFx0fVxuXHRcdHJldHVybiByZXN1bHRhZG87XG5cdH1cbn1cblxuXG5jbGFzcyBSZW9yZGVuYXJNb2RhbCBleHRlbmRzIE1vZGFsIHtcblx0bWV0cmljYTogc3RyaW5nO1xuXHRjb21wb25lbnQ6IENvbXBvbmVudDtcblx0YXJjaGl2b3M6IHt9W107XG5cdHVsdGltYTogbnVtYmVyW107XG5cblx0aW5kaWNlSXpxOiBudW1iZXI7XG5cdGluZGljZURlcjogbnVtYmVyO1xuXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBkdjogUGx1Z2luLCBtZXRyaWNhOiBzdHJpbmcpIHtcblx0XHRzdXBlcihhcHApO1xuXHRcdHRoaXMubWV0cmljYSA9IG1ldHJpY2E7XG5cdFx0dGhpcy5jb21wb25lbnQgPSBuZXcgQ29tcG9uZW50KCk7XG5cdFx0dGhpcy5hcmNoaXZvcyA9IGR2LnBhZ2VzKClcblx0XHRcdC5maWx0ZXIoYXJjaGl2byA9PiBhcmNoaXZvW3RoaXMubWV0cmljYV0pXG5cdFx0XHQuc29ydChhcmNoaXZvID0+IGFyY2hpdm9bdGhpcy5tZXRyaWNhXSlcblx0XHRcdC5tYXAoYXJjaGl2byA9PiAoeyBcblx0XHRcdFx0cGF0aDogYXJjaGl2by5maWxlLnBhdGgsIFxuXHRcdFx0XHRuYW1lOiBhcmNoaXZvLmZpbGUubmFtZSwgXG5cdFx0XHRcdG1ldHJpY2E6IGFyY2hpdm9bbWV0cmljYV0gXG5cdFx0XHR9KSk7XG5cdFx0dGhpcy51bHRpbWEgPSBbXTtcblx0fVxuXG5cdGFzeW5jIG9uT3BlbigpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCB7Y29udGVudEVsfSA9IHRoaXM7XG5cdFx0dGhpcy5jb21wb25lbnQubG9hZCgpO1xuXG5cdFx0dGhpcy5zZXRUaXRsZShgU2VsZWNjaW9uYXIgY3VhbCBlcyBtZWpvciBzZWdcdTAwRkFuIFwiJHt0aGlzLm1ldHJpY2F9XCJgKTtcblx0XHR0aGlzLm1vZGFsRWwuYWRkQ2xhc3MoXCJvcmRlbmFyLXZlbnRhbmFcIik7XG5cblx0XHRbIHRoaXMuaW5kaWNlSXpxLCB0aGlzLmluZGljZURlciBdID0gdGhpcy5jb25zZWd1aXJBcmNoaXZvcygpO1xuXHRcdGxldCBbIGFyY2hpdm9Vbm8sIGFyY2hpdm9Eb3MgXSA9IFsgdGhpcy5pbmRpY2VEZXIsIHRoaXMuaW5kaWNlSXpxIF0ubWFwKGluZGljZSA9PiB0aGlzLmFyY2hpdm9zW2luZGljZV0pO1xuXHRcdGxldCBbIHRBcmNoaXZvVW5vLCB0QXJjaGl2b0RvcyBdID0gWyBhcmNoaXZvVW5vLCBhcmNoaXZvRG9zIF0ubWFwKGFyY2hpdm8gPT4gdGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGFyY2hpdm8ucGF0aCkpO1xuXG5cdFx0bGV0IFsgY29udGVuaWRvVW5vLCBjb250ZW5pZG9Eb3MgXSA9IChhd2FpdCBQcm9taXNlLmFsbChbXG5cdFx0XHR0aGlzLmFwcC52YXVsdC5yZWFkKHRBcmNoaXZvVW5vKSxcblx0XHRcdHRoaXMuYXBwLnZhdWx0LnJlYWQodEFyY2hpdm9Eb3MpXG5cdFx0XSkpLm1hcChjb250ZW5pZG8gPT4gdGhpcy5zYWNhckZyb250bWF0dGVyKGNvbnRlbmlkbykpO1xuXG5cdFx0bGV0IHNlcGFyYWNpb24gPSBjb250ZW50RWwuY3JlYXRlRGl2KCk7XG5cdFx0c2VwYXJhY2lvbi5hZGRDbGFzcyhcIm9yZGVuYXItc2VwYXJhY2lvblwiKTtcblx0XHRcblxuXHRcdGxldCBkaXZJenF1aWVyZGEgPSBuZXcgQnV0dG9uQ29tcG9uZW50KHNlcGFyYWNpb24pXG5cdFx0XHQuc2V0Q2xhc3MoXCJvcmRlbmFyLWFyY2hpdm9cIilcblx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IGF3YWl0IHRoaXMuZXN0YWJsZWNlckNvbXBhcmFjaW9uKCdpenEnKSlcblx0XHRcdC5idXR0b25FbDtcblxuXHRcdGxldCB0YXJlYUl6cXVpZXJkYSA9IE1hcmtkb3duUmVuZGVyZXJcblx0XHRcdC5yZW5kZXIoXG5cdFx0XHRcdHRoaXMuYXBwLCBgIyAke2FyY2hpdm9Vbm8ubmFtZX1cXG4tLS1cXG4ke2NvbnRlbmlkb1Vub31gLCBcblx0XHRcdFx0ZGl2SXpxdWllcmRhLmNyZWF0ZURpdih7IGNsczogXCJvcmRlbmFyLWFyY2hpdm8tY29udGVuaWRvXCIgfSksIFxuXHRcdFx0XHRhcmNoaXZvVW5vLnBhdGgsIFxuXHRcdFx0XHR0aGlzLmNvbXBvbmVudFxuXHRcdFx0KTtcblxuXHRcdGxldCBkaXZEZXJlY2hhID0gbmV3IEJ1dHRvbkNvbXBvbmVudChzZXBhcmFjaW9uKVxuXHRcdFx0LnNldENsYXNzKFwib3JkZW5hci1hcmNoaXZvXCIpXG5cdFx0XHQub25DbGljayhhc3luYyAoKSA9PiBhd2FpdCB0aGlzLmVzdGFibGVjZXJDb21wYXJhY2lvbignZGVyJykpXG5cdFx0XHQuYnV0dG9uRWw7XG5cblx0XHRsZXQgdGFyZWFEZXJlY2hhID0gTWFya2Rvd25SZW5kZXJlclxuXHRcdFx0LnJlbmRlcihcblx0XHRcdFx0dGhpcy5hcHAsIGAjICR7YXJjaGl2b0Rvcy5uYW1lfVxcbi0tLVxcbiR7Y29udGVuaWRvRG9zfWAsIFxuXHRcdFx0XHRkaXZEZXJlY2hhLmNyZWF0ZURpdih7IGNsczogXCJvcmRlbmFyLWFyY2hpdm8tY29udGVuaWRvXCIgfSksIFxuXHRcdFx0XHRhcmNoaXZvRG9zLnBhdGgsXG5cdFx0XHRcdHRoaXMuY29tcG9uZW50XG5cdFx0XHQpO1xuXG5cdFx0YXdhaXQgUHJvbWlzZS5hbGwoWyB0YXJlYUl6cXVpZXJkYSwgdGFyZWFEZXJlY2hhIF0pO1xuXHR9XG5cblx0YXN5bmMgb25DbG9zZSgpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCB7Y29udGVudEVsfSA9IHRoaXM7XG5cdFx0Y29udGVudEVsLmVtcHR5KCk7XG5cblx0XHR0aGlzLmNvbXBvbmVudC51bmxvYWQoKTtcblxuXHRcdGlmICghdGhpcy51bHRpbWEpIHJldHVybjtcblxuXHRcdGxldCB0YXJlYXMgPSB0aGlzLnVsdGltYS5tYXAoaW5kaWNlID0+IHRoaXMuYXJjaGl2b3NbaW5kaWNlXSlcblx0XHRcdC5tYXAoKHsgcGF0aCwgbmFtZSwgbWV0cmljYSB9KSA9PiB7XG5cdFx0XHRcdGxldCB0QXJjaGl2byA9IHRoaXMuYXBwLnZhdWx0LmdldEFic3RyYWN0RmlsZUJ5UGF0aChwYXRoKTtcblxuXHRcdFx0XHRyZXR1cm4gdGhpcy5hcHAuZmlsZU1hbmFnZXIucHJvY2Vzc0Zyb250TWF0dGVyKHRBcmNoaXZvLCAoZnJvbnRtYXR0ZXIpID0+IHtcblx0XHRcdFx0XHRmcm9udG1hdHRlclt0aGlzLm1ldHJpY2FdID0gbWV0cmljYTtcblx0XHRcdFx0fSlcblx0XHRcdH0pO1xuXG5cdFx0YXdhaXQgUHJvbWlzZS5hbGwodGFyZWFzKTtcblx0fVxuXG5cdGFzeW5jIGVzdGFibGVjZXJDb21wYXJhY2lvbihkaXIpIHtcblx0XHRsZXQgaW5kaWNlTWVqb3IgPSAoZGlyID09ICdkZXInKSA/IHRoaXMuaW5kaWNlRGVyIDogdGhpcy5pbmRpY2VJenE7XG5cdFx0bGV0IGluZGljZVBlb3IgPSAoZGlyID09ICdkZXInKSA/IHRoaXMuaW5kaWNlSXpxIDogdGhpcy5pbmRpY2VEZXI7XG5cblx0XHRsZXQgbWV0cmljYU1lam9yID0gdGhpcy5hcmNoaXZvc1tpbmRpY2VNZWpvcl0ubWV0cmljYTtcblx0XHRsZXQgbWV0cmljYVBlb3IgPSB0aGlzLmFyY2hpdm9zW2luZGljZVBlb3JdLm1ldHJpY2E7XG5cblx0XHRpZiAocGFyc2VJbnQobWV0cmljYU1lam9yLCAxMCkgPiBwYXJzZUludChtZXRyaWNhUGVvciwgMTApKSB7XG5cdFx0XHR0aGlzLmFyY2hpdm9zW2luZGljZU1lam9yXVtcIm1ldHJpY2FcIl0gPSBtZXRyaWNhUGVvcjtcblx0XHRcdHRoaXMuYXJjaGl2b3NbaW5kaWNlUGVvcl1bXCJtZXRyaWNhXCJdID0gbWV0cmljYU1lam9yO1xuXHRcdH1cblxuXHRcdGF3YWl0IHRoaXMub25DbG9zZSgpO1xuXHRcdHRoaXMub25PcGVuKCk7XG5cdH1cblxuXHRzYWNhckZyb250bWF0dGVyKGNvbnRlbmlkbzogc3RyaW5nKTogc3RyaW5nIHtcblx0XHRpZiAoY29udGVuaWRvLnNsaWNlKDAsIDMpICE9IFwiLS0tXCIpXG5cdFx0XHRyZXR1cm4gY29udGVuaWRvO1xuXHRcdGNvbnRlbmlkbyA9IGNvbnRlbmlkby5zbGljZSgzKTtcblx0XHRcblx0XHRsZXQgaW5kaWNlID0gY29udGVuaWRvLmluZGV4T2YoXCItLS1cIilcblx0XHRpbmRpY2UgKz0gY29udGVuaWRvLnNsaWNlKGluZGljZSkuaW5kZXhPZihcIlxcblwiKSArIDE7XG5cblx0XHRyZXR1cm4gY29udGVuaWRvLnNsaWNlKGluZGljZSk7XG5cdH1cblxuXHRjb25zZWd1aXJBcmNoaXZvcygpIHtcblx0XHRsZXQgaW5kaWNlUHJpbmNpcGFsLCBpbmRpY2VTZWN1bmRhcmlvO1xuXG5cdFx0ZG8ge1xuICAgICAgICBcdGluZGljZVByaW5jaXBhbCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMuYXJjaGl2b3MubGVuZ3RoKTtcblx0XHRcdGluZGljZVNlY3VuZGFyaW8gPSBpbmRpY2VQcmluY2lwYWwgPT0gMCA/IDEgOiBpbmRpY2VQcmluY2lwYWwgLSAxO1xuXG5cdFx0fSB3aGlsZSAoXG5cdFx0XHR0aGlzLnVsdGltYS5sZW5ndGggPiAwICYmIFxuXHRcdFx0KCAodGhpcy51bHRpbWFbMF0gPT0gaW5kaWNlUHJpbmNpcGFsICYmIHRoaXMudWx0aW1hWzFdID09IGluZGljZVNlY3VuZGFyaW8pIHx8XG5cdFx0XHQgICh0aGlzLnVsdGltYVsxXSA9PSBpbmRpY2VQcmluY2lwYWwgJiYgdGhpcy51bHRpbWFbMF0gPT0gaW5kaWNlU2VjdW5kYXJpbykgKVxuXHRcdCk7XG5cdFx0XG5cdFx0dGhpcy51bHRpbWFbMF0gPSBpbmRpY2VQcmluY2lwYWw7XG5cdFx0dGhpcy51bHRpbWFbMV0gPSBpbmRpY2VTZWN1bmRhcmlvO1xuXG5cdFx0cmV0dXJuICh0aGlzLmFyY2hpdm9zW2luZGljZVByaW5jaXBhbF0ubWV0cmljYSA8IHRoaXMuYXJjaGl2b3NbaW5kaWNlU2VjdW5kYXJpb10ubWV0cmljYSkgXG5cdFx0XHQ/IFsgaW5kaWNlUHJpbmNpcGFsLCBpbmRpY2VTZWN1bmRhcmlvIF1cblx0XHRcdDogWyBpbmRpY2VTZWN1bmRhcmlvLCBpbmRpY2VQcmluY2lwYWwgXTtcbiAgICB9XG59XG5cbmNsYXNzIFNhbXBsZVNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcblx0cGx1Z2luOiBPcmRlbmFyQXJjaGl2b3NQbHVnaW47XG5cblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogT3JkZW5hckFyY2hpdm9zUGx1Z2luKSB7XG5cdFx0c3VwZXIoYXBwLCBwbHVnaW4pO1xuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHR9XG5cblx0ZGlzcGxheSgpOiB2b2lkIHtcblx0XHRjb25zdCB7Y29udGFpbmVyRWx9ID0gdGhpcztcblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xuXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoXCJoMVwiLCB7IHRleHQ6IFwiQ29uZmlndXJhY2lcdTAwRjNuXCIgfSlcblxuXHRcdGlmICghdGhpcy5wbHVnaW4uZHYpIHtcblx0XHRcdGNvbnRhaW5lckVsLmNyZWF0ZUVsKFwic3BhblwiLCB7IHRleHQ6IFwiTm8gc2UgdGllbmUgaW5zdGFsYWRvIERhdGF2aWV3XCIgfSlcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0XG5cdFx0bGV0IHBvc2libGVzTWV0cmljYXMgPSB0aGlzLm9idGVuZXJNZXRyaWNhcygpO1xuXHRcdGlmIChwb3NpYmxlc01ldHJpY2FzLmxlbmd0aCA9PSAwKSB7XG5cdFx0XHRjb250YWluZXJFbC5jcmVhdGVFbChcInNwYW5cIiwgeyB0ZXh0OiBcIk5vIGhheSBwb3NpYmxlcyBtZXRyaWNhcyBwYXJhIGVsZWdpclwiIH0pXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLm1ldHJpY2FzLmxlbmd0aCA+IDApIHtcblx0XHRcdGZvciAobGV0IFtpbmRpY2UsIG1ldHJpY2FdIG9mIHRoaXMucGx1Z2luLnNldHRpbmdzLm1ldHJpY2FzLmVudHJpZXMoKSkge1xuXHRcdFx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdFx0XHQuc2V0TmFtZShgU2V0dGluZyAjJHtpbmRpY2UgKyAxfWApXG5cdFx0XHRcdFx0LnNldERlc2MoJ0l0XFwncyBhIHNlY3JldCcpXG5cdFx0XHRcdFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IHtcblx0XHRcdFx0XHRcdGZvciAobGV0IG90cmFzTWV0cmljYSBvZiBwb3NpYmxlc01ldHJpY2FzKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChvdHJhc01ldHJpY2EgIT0gbWV0cmljYSAmJiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5tZXRyaWNhcy5pbmRleE9mKG90cmFzTWV0cmljYSkgPj0gMClcblx0XHRcdFx0XHRcdFx0XHRjb250aW51ZVxuXG5cdFx0XHRcdFx0XHRcdGRyb3Bkb3duID0gZHJvcGRvd24uYWRkT3B0aW9uKG90cmFzTWV0cmljYSwgb3RyYXNNZXRyaWNhKTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0ZHJvcGRvd24gPSBkcm9wZG93bi5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdFx0aWYgKG1ldHJpY2EpIHRoaXMucGx1Z2luLmVsaW1pbmFyTWV0cmljYShtZXRyaWNhKTtcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubWV0cmljYXNbaW5kaWNlXSA9IHZhbHVlO1xuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5hZ3JlZ2FyTWV0cmljYSh2YWx1ZSk7XG5cdFx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdFx0fSkuc2V0VmFsdWUobWV0cmljYSk7XG5cblx0XHRcdFx0XHRcdHJldHVybiBkcm9wZG93bjtcblx0XHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRsZXQgYm90b25lcyA9IGNvbnRhaW5lckVsLmNyZWF0ZURpdigpO1xuXHRcdGJvdG9uZXMuYWRkQ2xhc3MoXCJvcmRlbmFyLWJvdG9uZXNcIilcblxuXHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5tZXRyaWNhcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRuZXcgQnV0dG9uQ29tcG9uZW50KGJvdG9uZXMpXG5cdFx0XHRcdC5zZXRDbGFzcyhcIm9yZGVuYXItYm90b25cIilcblx0XHRcdFx0LnNldEJ1dHRvblRleHQoXCJFbGltaW5hciBtXHUwMEU5dHJpY2FcIilcblx0XHRcdFx0LnNldFRvb2x0aXAoXCJBcHJldGFyXCIpXG5cdFx0XHRcdC5vbkNsaWNrKGFzeW5jICgpID0+IHtcblx0XHRcdFx0XHRuZXcgTm90aWNlKFwiRWxpbWluYW5kb1wiKVxuXHRcdFx0XHRcdGxldCBtZXRyaWNhID0gdGhpcy5wbHVnaW4uc2V0dGluZ3MubWV0cmljYXMucG9wKCk7XG5cdFx0XHRcdFx0aWYgKG1ldHJpY2EgJiYgbWV0cmljYS50cmltKCkgIT0gXCJcIikge1xuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uZWxpbWluYXJNZXRyaWNhKG1ldHJpY2EpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpO1xuXHRcdFx0XHR9KTtcblx0XHR9XG5cblx0XHRpZiAocG9zaWJsZXNNZXRyaWNhcy5sZW5ndGggPiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5tZXRyaWNhcy5sZW5ndGgpIHtcblx0XHRcdG5ldyBCdXR0b25Db21wb25lbnQoYm90b25lcylcblx0XHRcdFx0LnNldENsYXNzKFwib3JkZW5hci1ib3RvblwiKVxuXHRcdFx0XHQuc2V0QnV0dG9uVGV4dChcIkFncmVnYXIgbVx1MDBFOXRyaWNhXCIpXG5cdFx0XHRcdC5zZXRUb29sdGlwKFwiQXByZXRhclwiKVxuXHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0bmV3IE5vdGljZShcIkFncmVnYW5kb1wiKVxuXHRcdFx0XHRcdGxldCBtZXRyaWNhTm9Vc2FkYSA9IHBvc2libGVzTWV0cmljYXNcblx0XHRcdFx0XHRcdC5maW5kKG1ldHJpY2EgPT4gdGhpcy5wbHVnaW4uc2V0dGluZ3MubWV0cmljYXMuaW5kZXhPZihtZXRyaWNhKSA8IDApO1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLm1ldHJpY2FzLnB1c2gobWV0cmljYU5vVXNhZGEgPyBtZXRyaWNhTm9Vc2FkYSA6IFwiXCIpO1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLmFncmVnYXJNZXRyaWNhKG1ldHJpY2FOb1VzYWRhID8gbWV0cmljYU5vVXNhZGEgOiBcIlwiKTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR0aGlzLmRpc3BsYXkoKTtcblx0XHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0b2J0ZW5lck1ldHJpY2FzKCk6IHN0cmluZ1tdIHtcblx0XHRyZXR1cm4gdGhpcy5wbHVnaW4uZHY/LnBhZ2VzKClcblx0XHRcdC5mbGF0TWFwKGFyY2hpdm8gPT4gT2JqZWN0LmVudHJpZXMoYXJjaGl2by5maWxlLmZyb250bWF0dGVyKVxuXHRcdFx0Lm1hcCgoW2tleSwgdmFsdWVdKSA9PiBrZXkpKVxuXHRcdFx0Lmdyb3VwQnkoa2V5ID0+IGtleSlcblx0XHRcdC5maWx0ZXIoKHsga2V5LCByb3dzIH0pID0+IHJvd3MubGVuZ3RoID4gMilcblx0XHRcdC5tYXAoKHsga2V5LCByb3dzIH0pID0+IGtleSlcblx0XHRcdC52YWx1ZXM7XG5cdH1cbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxzQkFBdUk7QUFNdkksSUFBTSxtQkFBa0Q7QUFBQSxFQUN2RCxVQUFVLENBQUM7QUFDWjtBQUVBLElBQXFCLHdCQUFyQixjQUFtRCx1QkFBTztBQUFBLEVBS3pELE1BQU0sU0FBUztBQUNkLFVBQU0sS0FBSyxhQUFhO0FBRXhCLFNBQUssSUFBSSxVQUFVLGNBQWMsTUFBTTtBQWxCekM7QUFtQkcsV0FBSyxNQUFLLFVBQUssSUFBSSxRQUFRLFFBQVEsVUFBVSxNQUFuQyxtQkFBc0M7QUFBQSxJQUNqRCxDQUFDO0FBR0QsYUFBUyxXQUFXLEtBQUssU0FBUyxVQUFVO0FBQzNDLFdBQUssZUFBZSxPQUFPO0FBQUEsSUFDNUI7QUFJQSxTQUFLLGlCQUFpQixVQUFVLFdBQVcsT0FBTyxVQUF5QjtBQUMxRSxVQUFJLE1BQU0sUUFBUSxVQUFVLEtBQUssT0FBTztBQUN2QyxjQUFNLEtBQUssTUFBTSxzQkFBc0IsS0FBSztBQUFBLE1BQzdDLFdBQVcsTUFBTSxRQUFRLFVBQVUsS0FBSyxPQUFPO0FBQzlDLGNBQU0sS0FBSyxNQUFNLHNCQUFzQixLQUFLO0FBQUEsTUFDN0M7QUFBQSxJQUNELENBQUM7QUFHRCxTQUFLLGNBQWMsSUFBSSxpQkFBaUIsS0FBSyxLQUFLLElBQUksQ0FBQztBQUFBLEVBY3hEO0FBQUEsRUFFQSxXQUFXO0FBQUEsRUFFWDtBQUFBLEVBRUEsTUFBTSxlQUFlO0FBQ3BCLFNBQUssV0FBVyxPQUFPLE9BQU8sQ0FBQyxHQUFHLGtCQUFrQixNQUFNLEtBQUssU0FBUyxD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TztBQUFBLFFBQ1IsQ0FBQztBQUFBLE1BQ0g7QUFBQSxJQUNEO0FBRUEsUUFBSSxVQUFVLFlBQVksVUFBVTtBQUNwQyxZQUFRLFNBQVMsaUJBQWlCO0FBRWxDLFFBQUksS0FBSyxPQUFPLFNBQVMsU0FBUyxTQUFTLEdBQUc7QUFDN0MsVUFBSSxnQ0FBZ0IsT0FBTyxFQUN6QixTQUFTLGVBQWUsRUFDeEIsY0FBYyxxQkFBa0IsRUFDaEMsV0FBVyxTQUFTLEVBQ3BCLFFBQVEsWUFBWTtBQUNwQixZQUFJLHVCQUFPLFlBQVk7QUFDdkIsWUFBSSxVQUFVLEtBQUssT0FBTyxTQUFTLFNBQVMsSUFBSTtBQUNoRCxZQUFJLFdBQVcsUUFBUSxLQUFLLEtBQUssSUFBSTtBQUNwQyxlQUFLLE9BQU8sZ0JBQWdCLE9BQU87QUFBQSxRQUNwQztBQUVBLGNBQU0sS0FBSyxPQUFPLGFBQWE7QUFDL0IsYUFBSyxRQUFRO0FBQUEsTUFDZCxDQUFDO0FBQUEsSUFDSDtBQUVBLFFBQUksaUJBQWlCLFNBQVMsS0FBSyxPQUFPLFNBQVMsU0FBUyxRQUFRO0FBQ25FLFVBQUksZ0NBQWdCLE9BQU8sRUFDekIsU0FBUyxlQUFlLEVBQ3hCLGNBQWMsb0JBQWlCLEVBQy9CLFdBQVcsU0FBUyxFQUNwQixRQUFRLFlBQVk7QUFDcEIsWUFBSSx1QkFBTyxXQUFXO0FBQ3RCLFlBQUksaUJBQWlCLGlCQUNuQixLQUFLLGFBQVcsS0FBSyxPQUFPLFNBQVMsU0FBUyxRQUFRLE9BQU8sSUFBSSxDQUFDO0FBQ3BFLGFBQUssT0FBTyxTQUFTLFNBQVMsS0FBSyxpQkFBaUIsaUJBQWlCLEVBQUU7QUFDdkUsYUFBSyxPQUFPLGVBQWUsaUJBQWlCLGlCQUFpQixFQUFFO0FBQy9ELGNBQU0sS0FBSyxPQUFPLGFBQWE7QUFDL0IsYUFBSyxRQUFRO0FBQUEsTUFDZCxDQUFDO0FBQUEsSUFDSDtBQUFBLEVBQ0Q7QUFBQSxFQUVBLGtCQUE0QjtBQXJVN0I7QUFzVUUsWUFBTyxVQUFLLE9BQU8sT0FBWixtQkFBZ0IsUUFDckIsUUFBUSxhQUFXLE9BQU8sUUFBUSxRQUFRLEtBQUssV0FBVyxFQUMxRCxJQUFJLENBQUMsQ0FBQyxLQUFLLEtBQUssTUFBTSxHQUFHLEdBQ3pCLFFBQVEsU0FBTyxLQUNmLE9BQU8sQ0FBQyxFQUFFLEtBQUssS0FBSyxNQUFNLEtBQUssU0FBUyxHQUN4QyxJQUFJLENBQUMsRUFBRSxLQUFLLEtBQUssTUFBTSxLQUN2QjtBQUFBLEVBQ0g7QUFDRDsiLAogICJuYW1lcyI6IFtdCn0K
